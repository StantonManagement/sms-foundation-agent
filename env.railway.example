# SMS Foundation Agent - Railway Environment Variables Template
# Copy this file to .env.railway and fill in your actual values
# Railway will automatically provide PORT and RAILWAY_PUBLIC_DOMAIN

# =============================================================================
# REQUIRED ENVIRONMENT VARIABLES
# =============================================================================

# Application Environment
# Values: local, dev, staging, prod
# Railway Production: Set to "prod"
APP_ENV=prod

# Application Version
# Used for health checks and API documentation
# Update this when deploying new versions
APP_VERSION=0.1.0

# Database Configuration
# Railway provides PostgreSQL by default, but you can use any SQLAlchemy-compatible database
# Format: postgresql://username:password@host:port/database
# Railway PostgreSQL example: postgresql://postgres:password@containers-us-west-1.railway.app:5432/railway
DATABASE_URL=postgresql://postgres:password@containers-us-west-1.railway.app:5432/railway

# Twilio Configuration (REQUIRED for SMS functionality)
# Get these from your Twilio Console: https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+15551234567

# =============================================================================
# OPTIONAL ENVIRONMENT VARIABLES
# =============================================================================

# Collections Monitor API
# Internal Railway service URL for tenant lookup
# Format: https://collections-monitor-production.up.railway.app
# Leave empty if not using Collections Monitor integration
MONITOR_API_URL=https://collections-monitor-production.up.railway.app

# Tenant Profile API
# Internal Railway service URL for updating language preferences
# Format: https://tenant-profile-production.up.railway.app
# Leave empty if not using Tenant Profile integration
TENANT_PROFILE_API_URL=https://tenant-profile-production.up.railway.app

# =============================================================================
# TWILIO RETRY CONFIGURATION (OPTIONAL)
# =============================================================================
# These have sensible defaults but can be customized for your needs

# Maximum number of retries for outbound SMS sends
# Default: 3
TWILIO_SEND_MAX_RETRIES=3

# Base backoff delay in milliseconds for retry attempts
# Default: 100ms
TWILIO_SEND_BASE_BACKOFF_MS=100

# Maximum backoff delay cap in milliseconds
# Default: 2000ms (2 seconds)
TWILIO_SEND_BACKOFF_CAP_MS=2000

# =============================================================================
# RAILWAY-SPECIFIC VARIABLES (AUTOMATICALLY PROVIDED)
# =============================================================================
# These are automatically set by Railway - DO NOT override them

# PORT=8000
# RAILWAY_PUBLIC_DOMAIN=your-app-name.up.railway.app
# RAILWAY_ENVIRONMENT=production
# RAILWAY_PROJECT_ID=your-project-id
# RAILWAY_SERVICE_ID=your-service-id

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================
# Configure these URLs in your Twilio Console:
# 
# Inbound SMS Webhook:
# https://your-app-name.up.railway.app/webhook/twilio/sms
#
# Status Callback URL:
# https://your-app-name.up.railway.app/webhook/twilio/status
#
# Note: Replace 'your-app-name' with your actual Railway app name
# Railway provides RAILWAY_PUBLIC_DOMAIN environment variable for dynamic URLs

# =============================================================================
# SECURITY NOTES
# =============================================================================
# - Never commit real credentials to version control
# - Use Railway's environment variable management for production secrets
# - Ensure HTTPS is enabled for webhook endpoints (Railway provides this automatically)
# - Consider using Railway's built-in secret management for sensitive values
# - The TWILIO_AUTH_TOKEN is used for webhook signature verification - keep it secure

# =============================================================================
# LOCAL DEVELOPMENT
# =============================================================================
# For local development, create a .env file (not .env.railway) with:
# - APP_ENV=local
# - DATABASE_URL=sqlite+aiosqlite:///./app.db
# - Your actual Twilio credentials
# - Leave MONITOR_API_URL and TENANT_PROFILE_API_URL empty for local testing

